{{ define "main" }}
{{ $section := .Site.GetPage "section" .Section }}
<section>
  {{ partial "header__list.html" . }}

  <nav class="container grid gap-5">
    <h2 class="h--condensed">Filter by topic</h2>
    <ul class="flex flex-wrap items-center gap-5 font-sans font-medium lg:gap-x-10">
      {{ range (sort .Site.Taxonomies.topics ".Count" "desc") }}
        <li>
          <a href="{{ .Page.Permalink }}">
            {{ .Page.Title }}
          </a>
          <sup>{{ .Count }}</sup>
        </li>
      {{ end }}
    </ul>
  </nav>
  <section class="container">
    <h2 class="mt-20 h--ui">Latest posts</h2>
    <ol class="flex flex-wrap gap-10 section lg:gap-20">
      {{ range first 6 .Pages }}
        <li class="w-full max-w-lg">
          {{ partial "card" . }}
        </li>
      {{ end }}
      {{ range first 9 ( after 6 .Pages ) }}
        <li class="w-full">
          {{ partial "teaser" . }}
        </li>
      {{ end }}
    </ol>
  </section>
</section>
{{ end }}
